# Chouseisan Reminder

出欠管理ツール「[調整さん](https://chouseisan.com/)」から出欠情報を取得し、期日（開催日）の数日前に参加状況を流すLINE BOT


## 動作仕様

### LINEからのコールバック受信時

#### 友だち登録

- MIDをデータストアに保存。スクリーンネームも取れれば保存。
- 購読者全員に「参加しました」メッセージを送信

#### ブロック（友だち登録解除）

- MIDをデータストアから削除
- 購読者全員に「解除されました」メッセージを送信

#### トーク

- "ALL<"もしくは">ALL"の付いたトークを受信したら、購読者全員に同様のテキストを送信する。このときスクリーンネームも添えること。
- その他、直近の参加予定を返すなど。追々検討

### 定時実行

- 毎日8:00に定時実行
- 3日後に予定があれば購読者全員にトークを送信
    - 参加人数>=5：開催します＋参加者の名前を(拾えれば)列挙+調整さんのURL
    - 参加人数<5：このままでは足りない+調整さんのURL

### Webブラウザからのアクセス時

- データストアに保存されている（購読対象の）LINEユーザ一覧を表示する


## 設定ファイル

以下の情報を設定ファイルに持つ。ファイルは.gitignoreでリポジトリから外すこと。

- 調整さんのイベントページURL
- LINE BOTの情報


##動作環境

- Google App Engine/Go


## 調整さんについて

- https://chouseisan.com/
- 開催日決定ツールとしてでなく、出欠確認ツールとして利用する


## LINE BOTについて

- 現状はトライアル（BOT API Trial Account）
	- https://business.line.me/services/products/4/introduction
- 現状、BOTはグループに追加することができない。そのためリマインダを受けたいユーザは個々にBOTを友だち登録する必要がある
- BOT API Trial Accountでは、友だち登録は50人まで。制限解除を申請すれば5,000人に拡張できる（要審査）
